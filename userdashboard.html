<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>User Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{font-family:Arial, sans-serif; margin:0; padding:1rem; background:#f4f6f8;}
h1{margin-top:0}
.card{background:#fff; padding:1rem; border-radius:12px; margin-bottom:1rem; box-shadow:0 4px 12px rgba(0,0,0,.08);}
table{width:100%; border-collapse:collapse; margin-top:.5rem;}
th,td{padding:.6rem; border-bottom:1px solid #ddd; text-align:left;}
th{background:#eee;}
</style>
</head>
<body>
<h1>User Dashboard</h1>

<div class="card">
  <h2>Vendor Management</h2>
  <table id="vendorTable">
    <thead>
      <tr><th>Business</th><th>Status</th><th>Owner</th><th>Due Date</th><th>Payment</th><th>Rating</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<div class="card">
  <h2>Supply Monitoring</h2>
  <table id="supplyTable">
    <thead>
      <tr><th>Ref</th><th>Business</th><th>Category</th><th>Supplier</th><th>Pick-up</th><th>Drop-off</th><th>Time</th><th>Report</th><th>Contact</th><th>Value</th><th>Quality</th><th>Status</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<div class="card">
  <h2>Recent Complaints</h2>
  <ul id="complaintsList"></ul>
</div>

<script>
async function loadData(){
  const res = await fetch("data.json");
  const data = await res.json();

  
  const vendorBody = document.querySelector("#vendorTable tbody");
  data.vendors.forEach(v=>{
    vendorBody.innerHTML += `<tr>
      <td>${v.business}</td><td>${v.status}</td><td>${v.owner}</td>
      <td>${v.dueDate}</td><td>${v.payment}</td><td>${"★".repeat(v.rating)}</td>
    </tr>`;
  });

  
  const supplyBody = document.querySelector("#supplyTable tbody");
  data.supplies.forEach(s=>{
    supplyBody.innerHTML += `<tr>
      <td>${s.ref}</td><td>${s.business}</td><td>${s.category}</td><td>${s.supplier}</td>
      <td>${s.pickup}</td><td>${s.dropoff}</td><td>${s.time}</td>
      <td>${s.report}</td><td>${s.contact}</td><td>${s.value}</td>
      <td>${"★".repeat(s.quality)}</td><td>${s.status}</td>
    </tr>`;
  });


  const complaintList = document.getElementById("complaintsList");
  data.complaints.forEach(c=>{
    complaintList.innerHTML += `<li>${c}</li>`;
  });
}

loadData();
</script>
</body>
</html>
